{% extends "base.html" %}
{% block content %}
        <h1>{{ draft_name }}</h1>
        <table class="ui selectable sortable striped table">
            <thead>
                <th>Name</th>
                <th>Position</th>
                <th id=sc>Scoring</th>
                <th id=sg>Shot Generation</th>
            </thead>
            
            <tbody>
                {% for player in players %}
                <tr id="{{ player.id }}">
                    <td><a href="{{ url_for('show_player_card', player_id=player.id) }}">{{ player.person.full_name() }}</td>
                    <td>{{ player.position }}</td>
                    <td>{{ player.scoring_rate }}</td>
                    <td>{{ player.shot_rate }}</td>
                </tr>
                {% endfor %}
            
            </tbody>
        </table>
{% endblock %}

{% block postscriptcontent %}
<script src="http://semantic-ui.com/javascript/library/tablesort.js"></script>
<script>
$('#sc').data("sortBy", function(th, td, tablesort) {
$('#sg').data("sortBy", function(th, td, tablesort) {
        return parseFloat(td.text())})
        return parseFloat(td.text())})
$('table').tablesort();
$('tr')
    .on("click", function(e) { 
            $('.active').toggleClass('active');
            var player_id = e.currentTarget.id;
            console.log("Player " + player_id + " selected.");
            $(e.currentTarget).toggleClass('active');
            });
</script>
{% endblock %}
